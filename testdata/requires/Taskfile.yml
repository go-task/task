version: '3'

tasks:
  default:
    - task: missing-var

  missing-var:
    requires:
      vars:
        - foo
    cmd: echo "{{.foo}}"

  var-defined-in-task:
    vars:
      foo: bar
    requires:
      vars:
        - foo
    cmd: echo "{{.foo}}"


  validation-var:
    requires:
      vars:
        - name: foo
          enum: ['one', 'two']


  require-before-compile:
    requires:
      vars: [ MY_VAR ]
    cmd: |
      {{range .MY_VAR | splitList " " }}
        echo {{.}}
      {{end}}
